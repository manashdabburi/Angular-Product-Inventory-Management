"use strict";(self.webpackChunkangular_jest=self.webpackChunkangular_jest||[]).push([[697],{4697:(rt,f,c)=>{c.r(f),c.d(f,{InventoryModule:()=>et});var m=c(6895),i=c(433),a=c(6773),t=c(8256),Z=c(529);let _=(()=>{class e{constructor(r){this.http=r,this.apiUrl="http://localhost:3000"}getUsers(){return this.http.get(`${this.apiUrl}/users`)}getProductById(r){return this.http.get(`${this.apiUrl}/products/${r}`)}getProducts(){return this.http.get(`${this.apiUrl}/products`)}addProduct(r){return this.http.post(`${this.apiUrl}/products`,r)}deleteProduct(r){return this.http.delete(`${this.apiUrl}/products/${r}`)}updateProduct(r){return this.http.put(`${this.apiUrl}/products/${r.id}`,r)}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(Z.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=c(7341);let P=(()=>{class e{constructor(){this.search=new t.vpe}onSearch(r){const n=r.target.value.trim();this.search.emit(n)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-filter"]],outputs:{search:"search"},decls:2,vars:0,consts:[["type","text","placeholder","Search...",3,"input"]],template:function(r,n){1&r&&(t.TgZ(0,"div")(1,"input",0),t.NdJ("input",function(l){return n.onSearch(l)}),t.qZA()())}}),e})();function A(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"li"),t._uU(1),t.TgZ(2,"button",3),t.NdJ("click",function(){const l=t.CHM(r).$implicit,d=t.oxw();return t.KtG(d.viewProduct(l.id))}),t._uU(3,"View"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){const l=t.CHM(r).$implicit,d=t.oxw();return t.KtG(d.editProduct(l.id))}),t._uU(5,"Edit"),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){const l=t.CHM(r).$implicit,d=t.oxw();return t.KtG(d.deleteProduct(l.id))}),t._uU(7,"Delete"),t.qZA()()}if(2&e){const r=o.$implicit;t.xp6(1),t.hij(" ",r.name," ")}}let q=(()=>{class e{constructor(r,n,u){this.dataService=r,this.authService=n,this.router=u,this.products=[],this.filteredProducts=[]}ngOnInit(){this.dataService.getProducts().subscribe(r=>{this.products=r,this.filteredProducts=r})}onSearch(r){this.filteredProducts=this.products.filter(n=>n.name.toLowerCase().includes(r.toLowerCase()))}viewProduct(r){this.router.navigate([`/inventory/product-detail/${r}`])}editProduct(r){this.router.navigate([`/inventory/update-product/${r}`])}deleteProduct(r){if(!this.authService.isLoggedIn())return alert("You must be logged in to delete a product!"),void this.router.navigate(["/auth/sign-in"]);this.dataService.deleteProduct(r).subscribe(()=>{this.products=this.products.filter(n=>n.id!==r),this.filteredProducts=this.filteredProducts.filter(n=>n.id!==r)})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(_),t.Y36(h.e),t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-list"]],decls:7,vars:1,consts:[[3,"search"],[4,"ngFor","ngForOf"],["routerLink","/inventory/add-product"],[3,"click"]],template:function(r,n){1&r&&(t.TgZ(0,"h2"),t._uU(1,"Product List"),t.qZA(),t.TgZ(2,"app-search-filter",0),t.NdJ("search",function(l){return n.onSearch(l)}),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,A,8,1,"li",1),t.qZA(),t.TgZ(5,"button",2),t._uU(6,"Add Product"),t.qZA()),2&r&&(t.xp6(4),t.Q6J("ngForOf",n.filteredProducts))},dependencies:[m.sg,a.rH,P]}),e})(),T=(()=>{class e{constructor(r,n){this.route=r,this.dataService=n}ngOnInit(){const r=Number(this.route.snapshot.paramMap.get("id"));this.dataService.getProducts().subscribe(n=>{this.product=n.find(u=>u.id===r)})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(a.gz),t.Y36(_))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-detail"]],decls:22,vars:5,template:function(r,n){1&r&&(t.TgZ(0,"h2"),t._uU(1,"Product Details"),t.qZA(),t.TgZ(2,"p")(3,"strong"),t._uU(4,"Name:"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p")(7,"strong"),t._uU(8,"Description:"),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"p")(11,"strong"),t._uU(12,"Manufacturer:"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"p")(15,"strong"),t._uU(16,"Price:"),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p")(19,"strong"),t._uU(20,"Quantity:"),t.qZA(),t._uU(21),t.qZA()),2&r&&(t.xp6(5),t.hij(" ",null==n.product?null:n.product.name,""),t.xp6(4),t.hij(" ",null==n.product?null:n.product.description,""),t.xp6(4),t.hij(" ",null==n.product?null:n.product.manufacturer,""),t.xp6(4),t.hij(" ",null==n.product?null:n.product.price,""),t.xp6(4),t.hij(" ",null==n.product?null:n.product.quantity,""))}}),e})();function U(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Product name is required."),t.qZA())}function C(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Name must be at least 3 characters long."),t.qZA())}function x(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,U,2,0,"small",4),t.YNc(2,C,2,0,"small",4),t.qZA()),2&e){t.oxw();const r=t.MAs(8);t.xp6(1),t.Q6J("ngIf",null==r.errors?null:r.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.errors?null:r.errors.minlength)}}function y(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Description is required."),t.qZA())}function I(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,y,2,0,"small",4),t.qZA()),2&e){t.oxw();const r=t.MAs(14);t.xp6(1),t.Q6J("ngIf",null==r.errors?null:r.errors.required)}}function F(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Manufacturer is required."),t.qZA())}function b(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,F,2,0,"small",4),t.qZA()),2&e){t.oxw();const r=t.MAs(20);t.xp6(1),t.Q6J("ngIf",null==r.errors?null:r.errors.required)}}function N(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Price is required."),t.qZA())}function J(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Price cannot be negative."),t.qZA())}function Y(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,N,2,0,"small",4),t.YNc(2,J,2,0,"small",4),t.qZA()),2&e){t.oxw();const r=t.MAs(26);t.xp6(1),t.Q6J("ngIf",null==r.errors?null:r.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.errors?null:r.errors.min)}}function M(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Quantity is required."),t.qZA())}function Q(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Quantity must be at least 1."),t.qZA())}function S(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,M,2,0,"small",4),t.YNc(2,Q,2,0,"small",4),t.qZA()),2&e){t.oxw();const r=t.MAs(32);t.xp6(1),t.Q6J("ngIf",null==r.errors?null:r.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.errors?null:r.errors.min)}}let w=(()=>{class e{constructor(r,n){this.dataService=r,this.router=n}onAdd(r){if(r.valid){const n={...r.value,id:Date.now()};this.dataService.addProduct(n).subscribe(()=>{alert("Product added successfully!"),this.router.navigate(["/inventory"])})}else alert("Please fill in all required fields.")}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(_),t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-product"]],decls:36,vars:6,consts:[[3,"ngSubmit"],["addProductForm","ngForm"],["type","text","name","name","ngModel","","required","","minlength","3"],["name","ngModel"],[4,"ngIf"],["type","text","name","description","ngModel","","required",""],["description","ngModel"],["type","text","name","manufacturer","ngModel","","required",""],["manufacturer","ngModel"],["type","number","name","price","ngModel","","required","","min","0"],["price","ngModel"],["type","number","name","quantity","ngModel","","required","","min","1"],["quantity","ngModel"],["type","submit",3,"disabled"]],template:function(r,n){if(1&r){const u=t.EpF();t.TgZ(0,"h2"),t._uU(1,"Add Product"),t.qZA(),t.TgZ(2,"form",0,1),t.NdJ("ngSubmit",function(){t.CHM(u);const d=t.MAs(3);return t.KtG(n.onAdd(d))}),t.TgZ(4,"div")(5,"label"),t._uU(6,"Name:"),t.qZA(),t._UZ(7,"input",2,3),t.YNc(9,x,3,2,"div",4),t.qZA(),t.TgZ(10,"div")(11,"label"),t._uU(12,"Description:"),t.qZA(),t._UZ(13,"input",5,6),t.YNc(15,I,2,1,"div",4),t.qZA(),t.TgZ(16,"div")(17,"label"),t._uU(18,"Manufacturer:"),t.qZA(),t._UZ(19,"input",7,8),t.YNc(21,b,2,1,"div",4),t.qZA(),t.TgZ(22,"div")(23,"label"),t._uU(24,"Price:"),t.qZA(),t._UZ(25,"input",9,10),t.YNc(27,Y,3,2,"div",4),t.qZA(),t.TgZ(28,"div")(29,"label"),t._uU(30,"Quantity:"),t.qZA(),t._UZ(31,"input",11,12),t.YNc(33,S,3,2,"div",4),t.qZA(),t.TgZ(34,"button",13),t._uU(35,"Add Product"),t.qZA()()}if(2&r){const u=t.MAs(3),l=t.MAs(8),d=t.MAs(14),s=t.MAs(20),p=t.MAs(26),v=t.MAs(32);t.xp6(9),t.Q6J("ngIf",l.invalid&&l.touched),t.xp6(6),t.Q6J("ngIf",d.invalid&&d.touched),t.xp6(6),t.Q6J("ngIf",s.invalid&&s.touched),t.xp6(6),t.Q6J("ngIf",p.invalid&&p.touched),t.xp6(6),t.Q6J("ngIf",v.invalid&&v.touched),t.xp6(1),t.Q6J("disabled",u.invalid)}},dependencies:[m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.wO,i.qQ,i.On,i.F]}),e})();function L(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Product name is required."),t.qZA())}function D(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Name must be at least 3 characters long."),t.qZA())}function $(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,L,2,0,"small",2),t.YNc(2,D,2,0,"small",2),t.qZA()),2&e){const r=t.oxw();let n,u;t.xp6(1),t.Q6J("ngIf",null==(n=r.updateProductForm.get("name"))||null==n.errors?null:n.errors.required),t.xp6(1),t.Q6J("ngIf",null==(u=r.updateProductForm.get("name"))||null==u.errors?null:u.errors.minlength)}}function k(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Description is required."),t.qZA())}function j(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,k,2,0,"small",2),t.qZA()),2&e){const r=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=r.updateProductForm.get("description"))||null==n.errors?null:n.errors.required)}}function G(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Manufacturer is required."),t.qZA())}function O(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,G,2,0,"small",2),t.qZA()),2&e){const r=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=r.updateProductForm.get("manufacturer"))||null==n.errors?null:n.errors.required)}}function z(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Price is required."),t.qZA())}function B(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Price cannot be negative."),t.qZA())}function X(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,z,2,0,"small",2),t.YNc(2,B,2,0,"small",2),t.qZA()),2&e){const r=t.oxw();let n,u;t.xp6(1),t.Q6J("ngIf",null==(n=r.updateProductForm.get("price"))||null==n.errors?null:n.errors.required),t.xp6(1),t.Q6J("ngIf",null==(u=r.updateProductForm.get("price"))||null==u.errors?null:u.errors.min)}}function E(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Quantity is required."),t.qZA())}function H(e,o){1&e&&(t.TgZ(0,"small"),t._uU(1,"Quantity must be at least 1."),t.qZA())}function K(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,E,2,0,"small",2),t.YNc(2,H,2,0,"small",2),t.qZA()),2&e){const r=t.oxw();let n,u;t.xp6(1),t.Q6J("ngIf",null==(n=r.updateProductForm.get("quantity"))||null==n.errors?null:n.errors.required),t.xp6(1),t.Q6J("ngIf",null==(u=r.updateProductForm.get("quantity"))||null==u.errors?null:u.errors.min)}}let V=(()=>{class e{constructor(r,n,u,l){this.route=r,this.dataService=n,this.fb=u,this.router=l,this.productId=null,this.updateProductForm=this.fb.group({name:["",[i.kI.required,i.kI.minLength(3)]],description:["",i.kI.required],manufacturer:["",i.kI.required],price:[0,[i.kI.required,i.kI.min(0)]],quantity:[1,[i.kI.required,i.kI.min(1)]]})}ngOnInit(){this.productId=Number(this.route.snapshot.paramMap.get("id")),this.productId&&(console.log(this.productId,typeof this.productId),this.dataService.getProductById(this.productId).subscribe(r=>{r?this.updateProductForm.patchValue(r):(alert("Product not found."),this.router.navigate(["/inventory"]))},r=>{console.error("Error loading product:",r),alert("An error occurred while loading the product."),this.router.navigate(["/inventory"])}))}onUpdate(){if(this.updateProductForm.valid&&null!==this.productId){const r={id:this.productId,...this.updateProductForm.value};this.dataService.updateProduct(r).subscribe(()=>{alert("Product updated successfully!"),this.router.navigate(["/inventory"])},n=>{console.error("Error updating product:",n),alert("An error occurred while updating the product.")})}else alert("Please correct the errors in the form.")}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(a.gz),t.Y36(_),t.Y36(i.qu),t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-update-product"]],decls:30,vars:7,consts:[[3,"formGroup","ngSubmit"],["type","text","formControlName","name"],[4,"ngIf"],["type","text","formControlName","description"],["type","text","formControlName","manufacturer"],["type","number","formControlName","price"],["type","number","formControlName","quantity"],["type","submit",3,"disabled"]],template:function(r,n){if(1&r&&(t.TgZ(0,"h2"),t._uU(1,"Update Product"),t.qZA(),t.TgZ(2,"form",0),t.NdJ("ngSubmit",function(){return n.onUpdate()}),t.TgZ(3,"div")(4,"label"),t._uU(5,"Name:"),t.qZA(),t._UZ(6,"input",1),t.YNc(7,$,3,2,"div",2),t.qZA(),t.TgZ(8,"div")(9,"label"),t._uU(10,"Description:"),t.qZA(),t._UZ(11,"input",3),t.YNc(12,j,2,1,"div",2),t.qZA(),t.TgZ(13,"div")(14,"label"),t._uU(15,"Manufacturer:"),t.qZA(),t._UZ(16,"input",4),t.YNc(17,O,2,1,"div",2),t.qZA(),t.TgZ(18,"div")(19,"label"),t._uU(20,"Price:"),t.qZA(),t._UZ(21,"input",5),t.YNc(22,X,3,2,"div",2),t.qZA(),t.TgZ(23,"div")(24,"label"),t._uU(25,"Quantity:"),t.qZA(),t._UZ(26,"input",6),t.YNc(27,K,3,2,"div",2),t.qZA(),t.TgZ(28,"button",7),t._uU(29,"Update Product"),t.qZA()()),2&r){let u,l,d,s,p;t.xp6(2),t.Q6J("formGroup",n.updateProductForm),t.xp6(5),t.Q6J("ngIf",(null==(u=n.updateProductForm.get("name"))?null:u.invalid)&&(null==(u=n.updateProductForm.get("name"))?null:u.touched)),t.xp6(5),t.Q6J("ngIf",(null==(l=n.updateProductForm.get("description"))?null:l.invalid)&&(null==(l=n.updateProductForm.get("description"))?null:l.touched)),t.xp6(5),t.Q6J("ngIf",(null==(d=n.updateProductForm.get("manufacturer"))?null:d.invalid)&&(null==(d=n.updateProductForm.get("manufacturer"))?null:d.touched)),t.xp6(5),t.Q6J("ngIf",(null==(s=n.updateProductForm.get("price"))?null:s.invalid)&&(null==(s=n.updateProductForm.get("price"))?null:s.touched)),t.xp6(5),t.Q6J("ngIf",(null==(p=n.updateProductForm.get("quantity"))?null:p.invalid)&&(null==(p=n.updateProductForm.get("quantity"))?null:p.touched)),t.xp6(1),t.Q6J("disabled",n.updateProductForm.invalid)}},dependencies:[m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u]}),e})(),g=(()=>{class e{constructor(r,n){this.authService=r,this.router=n}canActivate(){return!!this.authService.isLoggedIn()||(this.router.navigate(["/auth/sign-in"]),!1)}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(h.e),t.LFG(a.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const R=[{path:"",component:q},{path:"product-detail/:id",component:T,canActivate:[g]},{path:"add-product",component:w,canActivate:[g]},{path:"update-product/:id",component:V,canActivate:[g]}];let W=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.Bz.forChild(R),a.Bz]}),e})();var tt=c(4466);let et=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,i.u5,W,i.UX,tt.m]}),e})()}}]);